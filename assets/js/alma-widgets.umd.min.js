!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Alma={})}(this,function(o){"use strict";function l(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}function s(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function t(c){return function(t,e){var n,r,o=String(s(t)),i=l(e),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var e=Math.ceil,n=Math.floor,r={codeAt:t(!1),charAt:t(!0)},i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(t,e){return t(e={exports:{}},e.exports),e.exports}function c(t){return t&&t.Math==Math&&t}function u(t){try{return!!t()}catch(t){return!0}}function f(t){return"object"==typeof t?null!==t:"function"==typeof t}function p(t){return w?g.createElement(t):{}}function h(t){if(!f(t))throw TypeError(String(t)+" is not an object");return t}function d(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function b(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function m(e,n){try{S(v,e,n)}catch(t){v[e]=n}return n}var v=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof i&&i)||Function("return this")(),y=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),g=v.document,w=f(g)&&f(g.createElement),x=!y&&!u(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a}),O=Object.defineProperty,E={f:y?O:function(t,e,n){if(h(t),e=d(e,!0),h(n),x)try{return O(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},S=y?function(t,e,n){return E.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},j="__core-js_shared__",C=v[j]||m(j,{}),A=Function.toString;"function"!=typeof C.inspectSource&&(C.inspectSource=function(t){return A.call(t)});function _(t,e){return F.call(t,e)}function P(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++z+B).toString(36)}function L(t){return U[t]||(U[t]=P(t))}var T,M,k,R=C.inspectSource,N=v.WeakMap,I="function"==typeof N&&/native code/.test(R(N)),F={}.hasOwnProperty,D=a(function(t){(t.exports=function(t,e){return C[t]||(C[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),z=0,B=Math.random(),U=D("keys"),H={},q=v.WeakMap;if(I){var W=new q,G=W.get,V=W.has,K=W.set;T=function(t,e){return K.call(W,t,e),e},M=function(t){return G.call(W,t)||{}},k=function(t){return V.call(W,t)}}else{var Y=L("state");H[Y]=!0,T=function(t,e){return S(t,Y,e),e},M=function(t){return _(t,Y)?t[Y]:{}},k=function(t){return _(t,Y)}}function X(t){return dt.call(t).slice(8,-1)}function J(t){return vt(s(t))}function Q(t){return"function"==typeof t?t:void 0}function $(t,e){return arguments.length<2?Q(bt[t])||Q(v[t]):bt[t]&&bt[t][e]||v[t]&&v[t][e]}function Z(t){return 0<t?xt(l(t),9007199254740991):0}function tt(u){return function(t,e,n){var r,o,i,a=J(t),c=Z(a.length),s=(r=c,(o=l(n))<0?Ot(o+r,0):Et(o,r));if(u&&e!=e){for(;s<c;)if((i=a[s++])!=i)return!0}else for(;s<c;s++)if((u||s in a)&&a[s]===e)return u||s||0;return!u&&-1}}function et(t,e){var n,r=J(t),o=0,i=[];for(n in r)!_(H,n)&&_(r,n)&&i.push(n);for(;e.length>o;)_(r,n=e[o++])&&(~St(i,n)||i.push(n));return i}function nt(t,e){for(var n=Pt(e),r=E.f,o=gt.f,i=0;i<n.length;i++){var a=n[i];_(t,a)||r(t,a,o(e,a))}}function rt(t,e){var n=Mt[Tt(t)];return n==Rt||n!=kt&&("function"==typeof e?u(e):!!e)}function ot(t,e){var n,r,o,i,a,c=t.target,s=t.global,u=t.stat;if(n=s?v:u?v[c]||m(c,{}):(v[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=It(n,r))&&a.value:n[r],!Nt(s?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;nt(i,o)}(t.sham||o&&o.sham)&&S(i,"sham",!0),wt(n,r,i,t)}}function it(t){return Object(s(t))}function at(t){return _(qt,t)||(Ut&&_(Wt,t)?qt[t]=Wt[t]:qt[t]=Gt("Symbol."+t)),qt[t]}var ct,st,ut,lt={set:T,get:M,has:k,enforce:function(t){return k(t)?M(t):T(t,{})},getterFor:function(n){return function(t){var e;if(!f(t)||(e=M(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},ft={}.propertyIsEnumerable,pt=Object.getOwnPropertyDescriptor,ht={f:pt&&!ft.call({1:2},1)?function(t){var e=pt(this,t);return!!e&&e.enumerable}:ft},dt={}.toString,mt="".split,vt=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==X(t)?mt.call(t,""):Object(t)}:Object,yt=Object.getOwnPropertyDescriptor,gt={f:y?yt:function(t,e){if(t=J(t),e=d(e,!0),x)try{return yt(t,e)}catch(t){}if(_(t,e))return b(!ht.f.call(t,e),t[e])}},wt=a(function(t){var e=lt.get,c=lt.enforce,s=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||_(n,"name")||S(n,"name",e),c(n).source=s.join("string"==typeof e?e:"")),t!==v?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:S(t,e,n)):i?t[e]=n:m(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||R(this)})}),bt=v,xt=Math.min,Ot=Math.max,Et=Math.min,St={includes:tt(!0),indexOf:tt(!1)}.indexOf,jt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ct=jt.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(t){return et(t,Ct)}},_t={f:Object.getOwnPropertySymbols},Pt=$("Reflect","ownKeys")||function(t){var e=At.f(h(t)),n=_t.f;return n?e.concat(n(t)):e},Lt=/#|\.prototype\./,Tt=rt.normalize=function(t){return String(t).replace(Lt,".").toLowerCase()},Mt=rt.data={},kt=rt.NATIVE="N",Rt=rt.POLYFILL="P",Nt=rt,It=gt.f,Ft=!u(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Dt=L("IE_PROTO"),zt=Object.prototype,Bt=Ft?Object.getPrototypeOf:function(t){return t=it(t),_(t,Dt)?t[Dt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?zt:null},Ut=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())}),Ht=Ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,qt=D("wks"),Wt=v.Symbol,Gt=Ht?Wt:Wt&&Wt.withoutSetter||P,Vt=at("iterator"),Kt=!1;[].keys&&("next"in(ut=[].keys())?(st=Bt(Bt(ut)))!==Object.prototype&&(ct=st):Kt=!0),null==ct&&(ct={}),_(ct,Vt)||S(ct,Vt,function(){return this});function Yt(){}function Xt(t){return"<script>"+t+"</"+ne+">"}var Jt,Qt={IteratorPrototype:ct,BUGGY_SAFARI_ITERATORS:Kt},$t=Object.keys||function(t){return et(t,jt)},Zt=y?Object.defineProperties:function(t,e){h(t);for(var n,r=$t(e),o=r.length,i=0;i<o;)E.f(t,n=r[i++],e[n]);return t},te=$("document","documentElement"),ee="prototype",ne="script",re=L("IE_PROTO"),oe=function(){try{Jt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;oe=Jt?function(t){t.write(Xt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Jt):((e=p("iframe")).style.display="none",te.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Xt("document.F=Object")),t.close(),t.F);for(var n=jt.length;n--;)delete oe[ee][jt[n]];return oe()};H[re]=!0;function ie(t,e,n){t&&!_(t=n?t:t.prototype,le)&&ue(t,le,{configurable:!0,value:e})}function ae(){return this}function ce(){return this}var se=Object.create||function(t,e){var n;return null!==t?(Yt[ee]=h(t),n=new Yt,Yt[ee]=null,n[re]=t):n=oe(),void 0===e?n:Zt(n,e)},ue=E.f,le=at("toStringTag"),fe={},pe=Qt.IteratorPrototype,he=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return h(t),function(t){if(!f(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),de=Qt.IteratorPrototype,me=Qt.BUGGY_SAFARI_ITERATORS,ve=at("iterator"),ye="values",ge="entries",we=r.charAt,be="String Iterator",xe=lt.set,Oe=lt.getterFor(be);!function(t,e,n,r,o,i,a){var c,s,u;s=r,u=e+" Iterator",(c=n).prototype=se(pe,{next:b(1,s)}),ie(c,u,!1),fe[u]=ae;function l(t){if(t===o&&g)return g;if(!me&&t in v)return v[t];switch(t){case"keys":case ye:case ge:return function(){return new n(this,t)}}return function(){return new n(this)}}var f,p,h,d=e+" Iterator",m=!1,v=t.prototype,y=v[ve]||v["@@iterator"]||o&&v[o],g=!me&&y||l(o),w="Array"==e&&v.entries||y;if(w&&(f=Bt(w.call(new t)),de!==Object.prototype&&f.next&&(Bt(f)!==de&&(he?he(f,de):"function"!=typeof f[ve]&&S(f,ve,ce)),ie(f,d,!0))),o==ye&&y&&y.name!==ye&&(m=!0,g=function(){return y.call(this)}),v[ve]!==g&&S(v,ve,g),fe[e]=g,o)if(p={values:l(ye),keys:i?g:l("keys"),entries:l(ge)},a)for(h in p)!me&&!m&&h in v||wt(v,h,p[h]);else ot({target:e,proto:!0,forced:me||m},p)}(String,"String",function(t){xe(this,{type:be,string:String(t),index:0})},function(){var t,e=Oe(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=we(n,r),e.index+=t.length,{value:t,done:!1})});function Ee(r,o,t){if(!function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}function Se(e,t,n,r){try{return r?t(h(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&h(o.call(e)),t}}function je(t,e,n){var r=d(e);r in t?E.f(t,r,b(0,n)):t[r]=n}var Ce=at("iterator"),Ae=Array.prototype,_e={};_e[at("toStringTag")]="z";var Pe="[object z]"===String(_e),Le=at("toStringTag"),Te="Arguments"==X(function(){return arguments}()),Me=Pe?X:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Le))?n:Te?X(e):"Object"==(r=X(e))&&"function"==typeof e.callee?"Arguments":r},ke=at("iterator"),Re=at("iterator"),Ne=!function(t,e){if(!e)return!1;var n=!1;try{var r={};r[Re]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}(function(t){});ot({target:"Array",stat:!0,forced:Ne},{from:function(t,e,n){var r,o,i,a,c,s,u,l=it(t),f="function"==typeof this?this:Array,p=arguments.length,h=1<p?e:void 0,d=void 0!==h,m=function(t){if(null!=t)return t[ke]||t["@@iterator"]||fe[Me(t)]}(l),v=0;if(d&&(h=Ee(h,2<p?n:void 0,2)),null!=m&&(f!=Array||(void 0===(u=m)||fe.Array!==u&&Ae[Ce]!==u)))for(c=(a=m.call(l)).next,o=new f;!(i=c.call(a)).done;v++)s=d?Se(a,h,[i.value,v],!0):i.value,je(o,v,s);else for(o=new f(r=Z(l.length));v<r;v++)s=d?h(l[v],v):l[v],je(o,v,s);return o.length=v,o}});var Ie;bt.Array.from;"function"!=typeof(Ie=window.Element.prototype).matches&&(Ie.matches=Ie.msMatchesSelector||Ie.mozMatchesSelector||Ie.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=0;e[n]&&e[n]!==this;)++n;return Boolean(e[n])}),"function"!=typeof Ie.closest&&(Ie.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null}),"".trim||(String.prototype.trim=function(){return this.replace(/^[\s﻿]+|[\s﻿]+$/g,"")}),function(t){t.DOMException||((DOMException=function(t){this.message=t}).prototype=new Error);function u(t,e){if(""===e)throw new DOMException("Failed to execute '"+t+"' on 'DOMTokenList': The token provided must not be empty.");if(-1!==(r=e.search(v)))throw new DOMException("Failed to execute '"+t+"' on 'DOMTokenList': The token provided ('"+e[r]+"') contains HTML space characters, which are not valid in tokens.")}var e,n,v=/[\11\12\14\15\40]/,r=0;"function"!=typeof DOMTokenList&&function(h){var e=h.document,t=h.Object,n=t.prototype.hasOwnProperty,d=t.defineProperty,a=0,m=0,c=function(){if(!a)throw TypeError("Illegal constructor")};function f(){var t=h.event,e=t.propertyName;if(!m&&("className"===e||"classList"===e&&!d)){var n=t.srcElement,r=n[" uCLp"],o=""+n[e],i=o.trim().split(v),a=n["classList"===e?" uCL":"classList"],c=r.length;t:for(var s=0,u=r.length=i.length,l=0;s!==u;++s){for(var f=0;f!==s;++f)if(i[f]===i[s]){l++;continue t}a[s-l]=i[s]}for(var p=u-l;p<c;++p)delete a[p];if("classList"!==e)return;m=1,n.classList=a,n.className=o,m=0,a.length=i.length-l}}function r(s){if(!(s&&"innerHTML"in s))throw TypeError("Illegal invocation");s.detachEvent("onpropertychange",f),a=1;try{var t=function(){};t.prototype=new c}finally{a=0}var u=t.prototype,l=new t;t:for(var e=s.className.trim().split(v),n=0,r=e.length,o=0;n!==r;++n){for(var i=0;i!==n;++i)if(e[i]===e[n]){o++;continue t}this[n-o]=e[n]}u.length=r-o,u.value=s.className,u[" uCL"]=s,d?(d(s,"classList",{enumerable:1,get:function(){return l},configurable:0,set:function(t){m=1,s.className=u.value=t+="",m=0;var e=t.trim().split(v),n=u.length;t:for(var r=0,o=u.length=e.length,i=0;r!==o;++r){for(var a=0;a!==r;++a)if(e[a]===e[r]){i++;continue t}l[r-i]=e[r]}for(var c=o-i;c<n;++c)delete l[c]}}),d(s," uCLp",{enumerable:0,configurable:0,writeable:0,value:t.prototype}),d(u," uCL",{enumerable:0,configurable:0,writeable:0,value:s})):(s.classList=l,s[" uCL"]=l,s[" uCLp"]=t.prototype),s.attachEvent("onpropertychange",f)}c.prototype.toString=c.prototype.toLocaleString=function(){return this.value},c.prototype.add=function(){t:for(var t=0,e=arguments.length,n="",r=this[" uCL"],o=r[" uCLp"];t!==e;++t){u("add",n=arguments[t]+"");for(var i=0,a=o.length,c=n;i!==a;++i){if(this[i]===n)continue t;c+=" "+this[i]}this[a]=n,o.length+=1,o.value=c}m=1,r.className=o.value,m=0},c.prototype.remove=function(){for(var t=0,e=arguments.length,n="",r=this[" uCL"],o=r[" uCLp"];t!==e;++t){u("remove",n=arguments[t]+"");for(var i=0,a=o.length,c="",s=0;i!==a;++i)s?this[i-1]=this[i]:this[i]!==n?c+=this[i]+" ":s=1;s&&(delete this[a],--o.length,o.value=c)}m=1,r.className=o.value,m=0},h.DOMTokenList=c;try{h.Object.defineProperty(h.Element.prototype,"classList",{enumerable:1,get:function(t){return n.call(this,"classList")||r(this),this.classList},configurable:0,set:function(t){this.className=t}})}catch(t){h[" uCL"]=r,e.documentElement.firstChild.appendChild(e.createElement("style")).styleSheet.cssText='_*{x-uCLp:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}[class]{x-uCLp/**/:expression(!this.hasOwnProperty("classList")&&window[" uCL"](this))}'}}(t),e=t.DOMTokenList.prototype,n=t.document.createElement("div").classList,e.item||(e.item=function(t){return void 0===(e=this[t])?null:e;var e}),e.toggle&&!1===n.toggle("a",0)||(e.toggle=function(t){if(1<arguments.length)return this[arguments[1]?"add":"remove"](t),!!arguments[1];var e=this.value;return this.remove(e),e===this.value&&(this.add(t),!0)}),e.replace&&"boolean"==typeof n.replace("a","b")||(e.replace=function(t,e){u("replace",t),u("replace",e);var n=this.value;return this.remove(t),this.value!==n&&(this.add(e),!0)}),e.contains||(e.contains=function(t){for(var e=0,n=this.length;e!==n;++e)if(this[e]===t)return!0;return!1}),e.forEach||(e.forEach=function(t){if(1===arguments.length)for(var e=0,n=this.length;e!==n;++e)t(this[e],e,this);else{e=0,n=this.length;for(var r=arguments[1];e!==n;++e)t.call(r,this[e],e,this)}}),e.entries||(e.entries=function(){var t=this;return{next:function(){return 0<t.length?{value:[0,t[0]],done:!1}:{done:!0}}}}),e.values||(e.values=function(){var t=this;return{next:function(){return 0<t.length?{value:t[0],done:!1}:{done:!0}}}}),e.keys||(e.keys=function(){var t=this;return{next:function(){return 0<t.length?{value:0,done:!1}:{done:!0}}}})}(window);var Fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function De(t,e){return t(e={exports:{}},e.exports),e.exports}function ze(t){return t&&t.Math==Math&&t}function Be(t){try{return!!t()}catch(t){return!0}}function Ue(t){return"object"==typeof t?null!==t:"function"==typeof t}function He(t){return Ze?$e.createElement(t):{}}function qe(t){if(!Ue(t))throw TypeError(String(t)+" is not an object");return t}function We(t,e){if(!Ue(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Ue(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Ue(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Ue(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function Ge(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function Ve(e,n){try{rn(Je,e,n)}catch(t){Je[e]=n}return n}function Ke(t,e){return sn.call(t,e)}function Ye(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++un+ln).toString(36)}function Xe(t){return Ke(hn,t)||(fn&&Ke(dn,t)?hn[t]=dn[t]:hn[t]=mn("Symbol."+t)),hn[t]}var Je=ze("object"==typeof globalThis&&globalThis)||ze("object"==typeof window&&window)||ze("object"==typeof self&&self)||ze("object"==typeof Fe&&Fe)||Function("return this")(),Qe=!Be(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),$e=Je.document,Ze=Ue($e)&&Ue($e.createElement),tn=!Qe&&!Be(function(){return 7!=Object.defineProperty(He("div"),"a",{get:function(){return 7}}).a}),en=Object.defineProperty,nn={f:Qe?en:function(t,e,n){if(qe(t),e=We(e,!0),qe(n),tn)try{return en(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},rn=Qe?function(t,e,n){return nn.f(t,e,Ge(1,n))}:function(t,e,n){return t[e]=n,t},on="__core-js_shared__",an=Je[on]||Ve(on,{}),cn=De(function(t){(t.exports=function(t,e){return an[t]||(an[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),sn={}.hasOwnProperty,un=0,ln=Math.random(),fn=!!Object.getOwnPropertySymbols&&!Be(function(){return!String(Symbol())}),pn=fn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,hn=cn("wks"),dn=Je.Symbol,mn=pn?dn:dn&&dn.withoutSetter||Ye,vn={};vn[Xe("toStringTag")]="z";var yn="[object z]"===String(vn),gn=Function.toString;"function"!=typeof an.inspectSource&&(an.inspectSource=function(t){return gn.call(t)});function wn(t){return Cn[t]||(Cn[t]=Ye(t))}var bn,xn,On,En=an.inspectSource,Sn=Je.WeakMap,jn="function"==typeof Sn&&/native code/.test(En(Sn)),Cn=cn("keys"),An={},_n=Je.WeakMap;if(jn){var Pn=new _n,Ln=Pn.get,Tn=Pn.has,Mn=Pn.set;bn=function(t,e){return Mn.call(Pn,t,e),e},xn=function(t){return Ln.call(Pn,t)||{}},On=function(t){return Tn.call(Pn,t)}}else{var kn=wn("state");An[kn]=!0,bn=function(t,e){return rn(t,kn,e),e},xn=function(t){return Ke(t,kn)?t[kn]:{}},On=function(t){return Ke(t,kn)}}function Rn(t){return Fn.call(t).slice(8,-1)}var Nn={set:bn,get:xn,has:On,enforce:function(t){return On(t)?xn(t):bn(t,{})},getterFor:function(n){return function(t){var e;if(!Ue(t)||(e=xn(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},In=De(function(t){var e=Nn.get,c=Nn.enforce,s=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||Ke(n,"name")||rn(n,"name",e),c(n).source=s.join("string"==typeof e?e:"")),t!==Je?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:rn(t,e,n)):i?t[e]=n:Ve(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||En(this)})}),Fn={}.toString,Dn=Xe("toStringTag"),zn="Arguments"==Rn(function(){return arguments}()),Bn=yn?Rn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Dn))?n:zn?Rn(e):"Object"==(r=Rn(e))&&"function"==typeof e.callee?"Arguments":r},Un=yn?{}.toString:function(){return"[object "+Bn(this)+"]"};yn||In(Object.prototype,"toString",Un,{unsafe:!0});function Hn(t){return isNaN(t=+t)?0:(0<t?ir:or)(t)}function qn(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Wn(c){return function(t,e){var n,r,o=String(qn(t)),i=Hn(e),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}function Gn(t){return fr(qn(t))}function Vn(t){return"function"==typeof t?t:void 0}function Kn(t,e){return arguments.length<2?Vn(dr[t])||Vn(Je[t]):dr[t]&&dr[t][e]||Je[t]&&Je[t][e]}function Yn(t){return 0<t?mr(Hn(t),9007199254740991):0}function Xn(u){return function(t,e,n){var r,o,i,a=Gn(t),c=Yn(a.length),s=(r=c,(o=Hn(n))<0?vr(o+r,0):yr(o,r));if(u&&e!=e){for(;s<c;)if((i=a[s++])!=i)return!0}else for(;s<c;s++)if((u||s in a)&&a[s]===e)return u||s||0;return!u&&-1}}function Jn(t,e){var n,r=Gn(t),o=0,i=[];for(n in r)!Ke(An,n)&&Ke(r,n)&&i.push(n);for(;e.length>o;)Ke(r,n=e[o++])&&(~gr(i,n)||i.push(n));return i}function Qn(t,e){for(var n=Er(e),r=nn.f,o=hr.f,i=0;i<n.length;i++){var a=n[i];Ke(t,a)||r(t,a,o(e,a))}}function $n(t,e){var n=Cr[jr(t)];return n==_r||n!=Ar&&("function"==typeof e?Be(e):!!e)}function Zn(t,e){var n,r,o,i,a,c=t.target,s=t.global,u=t.stat;if(n=s?Je:u?Je[c]||Ve(c,{}):(Je[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Lr(n,r))&&a.value:n[r],!Pr(s?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Qn(i,o)}(t.sham||o&&o.sham)&&rn(i,"sham",!0),In(n,r,i,t)}}function tr(t){return Object(qn(t))}var er,nr,rr,or=Math.ceil,ir=Math.floor,ar={codeAt:Wn(!1),charAt:Wn(!0)},cr={}.propertyIsEnumerable,sr=Object.getOwnPropertyDescriptor,ur={f:sr&&!cr.call({1:2},1)?function(t){var e=sr(this,t);return!!e&&e.enumerable}:cr},lr="".split,fr=Be(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Rn(t)?lr.call(t,""):Object(t)}:Object,pr=Object.getOwnPropertyDescriptor,hr={f:Qe?pr:function(t,e){if(t=Gn(t),e=We(e,!0),tn)try{return pr(t,e)}catch(t){}if(Ke(t,e))return Ge(!ur.f.call(t,e),t[e])}},dr=Je,mr=Math.min,vr=Math.max,yr=Math.min,gr={includes:Xn(!0),indexOf:Xn(!1)}.indexOf,wr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],br=wr.concat("length","prototype"),xr={f:Object.getOwnPropertyNames||function(t){return Jn(t,br)}},Or={f:Object.getOwnPropertySymbols},Er=Kn("Reflect","ownKeys")||function(t){var e=xr.f(qe(t)),n=Or.f;return n?e.concat(n(t)):e},Sr=/#|\.prototype\./,jr=$n.normalize=function(t){return String(t).replace(Sr,".").toLowerCase()},Cr=$n.data={},Ar=$n.NATIVE="N",_r=$n.POLYFILL="P",Pr=$n,Lr=hr.f,Tr=!Be(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Mr=wn("IE_PROTO"),kr=Object.prototype,Rr=Tr?Object.getPrototypeOf:function(t){return t=tr(t),Ke(t,Mr)?t[Mr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?kr:null},Nr=Xe("iterator"),Ir=!1;[].keys&&("next"in(rr=[].keys())?(nr=Rr(Rr(rr)))!==Object.prototype&&(er=nr):Ir=!0),null==er&&(er={}),Ke(er,Nr)||rn(er,Nr,function(){return this});function Fr(){}function Dr(t){return"<script>"+t+"</"+Gr+">"}var zr,Br={IteratorPrototype:er,BUGGY_SAFARI_ITERATORS:Ir},Ur=Object.keys||function(t){return Jn(t,wr)},Hr=Qe?Object.defineProperties:function(t,e){qe(t);for(var n,r=Ur(e),o=r.length,i=0;i<o;)nn.f(t,n=r[i++],e[n]);return t},qr=Kn("document","documentElement"),Wr="prototype",Gr="script",Vr=wn("IE_PROTO"),Kr=function(){try{zr=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Kr=zr?function(t){t.write(Dr("")),t.close();var e=t.parentWindow.Object;return t=null,e}(zr):((e=He("iframe")).style.display="none",qr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Dr("document.F=Object")),t.close(),t.F);for(var n=wr.length;n--;)delete Kr[Wr][wr[n]];return Kr()};An[Vr]=!0;function Yr(t,e,n){t&&!Ke(t=n?t:t.prototype,to)&&Zr(t,to,{configurable:!0,value:e})}function Xr(){return this}function Jr(){return this}function Qr(t,e,n,r,o,i,a){var c,s,u;function l(t){if(t===o&&g)return g;if(!io&&t in v)return v[t];switch(t){case"keys":case co:case so:return function(){return new n(this,t)}}return function(){return new n(this)}}s=r,u=e+" Iterator",(c=n).prototype=$r(no,{next:Ge(1,s)}),Yr(c,u,!1),eo[u]=Xr;var f,p,h,d=e+" Iterator",m=!1,v=t.prototype,y=v[ao]||v["@@iterator"]||o&&v[o],g=!io&&y||l(o),w="Array"==e&&v.entries||y;if(w&&(f=Rr(w.call(new t)),oo!==Object.prototype&&f.next&&(Rr(f)!==oo&&(ro?ro(f,oo):"function"!=typeof f[ao]&&rn(f,ao,Jr)),Yr(f,d,!0))),o==co&&y&&y.name!==co&&(m=!0,g=function(){return y.call(this)}),v[ao]!==g&&rn(v,ao,g),eo[e]=g,o)if(p={values:l(co),keys:i?g:l("keys"),entries:l(so)},a)for(h in p)!io&&!m&&h in v||In(v,h,p[h]);else Zn({target:e,proto:!0,forced:io||m},p);return p}var $r=Object.create||function(t,e){var n;return null!==t?(Fr[Wr]=qe(t),n=new Fr,Fr[Wr]=null,n[Vr]=t):n=Kr(),void 0===e?n:Hr(n,e)},Zr=nn.f,to=Xe("toStringTag"),eo={},no=Br.IteratorPrototype,ro=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return qe(t),function(t){if(!Ue(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),oo=Br.IteratorPrototype,io=Br.BUGGY_SAFARI_ITERATORS,ao=Xe("iterator"),co="values",so="entries",uo=ar.charAt,lo="String Iterator",fo=Nn.set,po=Nn.getterFor(lo);Qr(String,"String",function(t){fo(this,{type:lo,string:String(t),index:0})},function(){var t,e=po(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=uo(n,r),e.index+=t.length,{value:t,done:!1})});var ho={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mo=Xe("unscopables"),vo=Array.prototype;null==vo[mo]&&nn.f(vo,mo,{configurable:!0,value:$r(null)});function yo(t){vo[mo][t]=!0}var go="Array Iterator",wo=Nn.set,bo=Nn.getterFor(go),xo=Qr(Array,"Array",function(t,e){wo(this,{type:go,target:Gn(t),index:0,kind:e})},function(){var t=bo(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");eo.Arguments=eo.Array,yo("keys"),yo("values"),yo("entries");var Oo=Xe("iterator"),Eo=Xe("toStringTag"),So=xo.values;for(var jo in ho){var Co=Je[jo],Ao=Co&&Co.prototype;if(Ao){if(Ao[Oo]!==So)try{rn(Ao,Oo,So)}catch(t){Ao[Oo]=So}if(Ao[Eo]||rn(Ao,Eo,jo),ho[jo])for(var _o in xo)if(Ao[_o]!==xo[_o])try{rn(Ao,_o,xo[_o])}catch(t){Ao[_o]=xo[_o]}}}function Po(t,e,n){for(var r in e)In(t,r,e[r],n);return t}function Lo(t){var e=Kn(t),n=nn.f;Qe&&e&&!e[Go]&&n(e,Go,{configurable:!0,get:function(){return this}})}function To(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function Mo(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function ko(r,o,t){if(To(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}function Ro(e,t,n,r){try{return r?t(qe(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&qe(o.call(e)),t}}function No(t,e){if(!e)return!1;var n=!1;try{var r={};r[Jo]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function Io(t,e){var n,r=qe(t).constructor;return void 0===r||null==(n=qe(r)[Qo])?e:To(n)}function Fo(t){if(ci.hasOwnProperty(t)){var e=ci[t];delete ci[t],e()}}function Do(t){return function(){Fo(t)}}function zo(t){Fo(t.data)}function Bo(t){Je.postMessage(t+"",ti.protocol+"//"+ti.host)}var Uo,Ho,qo,Wo=Je.Promise,Go=Xe("species"),Vo=Xe("iterator"),Ko=Array.prototype,Yo=Xe("iterator"),Xo=De(function(t){function d(t,e){this.stopped=t,this.result=e}(t.exports=function(t,e,n,r,o){var i,a,c,s,u,l,f,p,h=ko(e,n,r?2:1);if(o)i=t;else{if("function"!=typeof(a=function(t){if(null!=t)return t[Yo]||t["@@iterator"]||eo[Bn(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(p=a)&&(eo.Array===p||Ko[Vo]===p)){for(c=0,s=Yn(t.length);c<s;c++)if((u=r?h(qe(f=t[c])[0],f[1]):h(t[c]))&&u instanceof d)return u;return new d(!1)}i=a.call(t)}for(l=i.next;!(f=l.call(i)).done;)if("object"==typeof(u=Ro(i,h,f.value,r))&&u&&u instanceof d)return u;return new d(!1)}).stop=function(t){return new d(!0,t)}}),Jo=Xe("iterator"),Qo=Xe("species"),$o=Kn("navigator","userAgent")||"",Zo=/(iphone|ipod|ipad).*applewebkit/i.test($o),ti=Je.location,ei=Je.setImmediate,ni=Je.clearImmediate,ri=Je.process,oi=Je.MessageChannel,ii=Je.Dispatch,ai=0,ci={},si="onreadystatechange";ei&&ni||(ei=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return ci[++ai]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Uo(ai),ai},ni=function(t){delete ci[t]},"process"==Rn(ri)?Uo=function(t){ri.nextTick(Do(t))}:ii&&ii.now?Uo=function(t){ii.now(Do(t))}:oi&&!Zo?(qo=(Ho=new oi).port2,Ho.port1.onmessage=zo,Uo=ko(qo.postMessage,qo,1)):!Je.addEventListener||"function"!=typeof postMessage||Je.importScripts||Be(Bo)||"file:"===ti.protocol?Uo=si in He("script")?function(t){qr.appendChild(He("script"))[si]=function(){qr.removeChild(this),Fo(t)}}:function(t){setTimeout(Do(t),0)}:(Uo=Bo,Je.addEventListener("message",zo,!1)));var ui,li,fi,pi,hi,di,mi,vi,yi={set:ei,clear:ni},gi=hr.f,wi=yi.set,bi=Je.MutationObserver||Je.WebKitMutationObserver,xi=Je.process,Oi=Je.Promise,Ei="process"==Rn(xi),Si=gi(Je,"queueMicrotask"),ji=Si&&Si.value;ji||(ui=function(){var t,e;for(Ei&&(t=xi.domain)&&t.exit();li;){e=li.fn,li=li.next;try{e()}catch(t){throw li?pi():fi=void 0,t}}fi=void 0,t&&t.enter()},pi=Ei?function(){xi.nextTick(ui)}:bi&&!Zo?(hi=!0,di=document.createTextNode(""),new bi(ui).observe(di,{characterData:!0}),function(){di.data=hi=!hi}):Oi&&Oi.resolve?(mi=Oi.resolve(void 0),vi=mi.then,function(){vi.call(mi,ui)}):function(){wi.call(Je,ui)});function Ci(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=To(n),this.reject=To(r)}function Ai(t,e){if(qe(t),Ue(e)&&e.constructor===t)return e;var n=Mi.f(t);return(0,n.resolve)(e),n.promise}function _i(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}var Pi,Li,Ti=ji||function(t){var e={fn:t,next:void 0};fi&&(fi.next=e),li||(li=e,pi()),fi=e},Mi={f:function(t){return new Ci(t)}},ki=Je.process,Ri=ki&&ki.versions,Ni=Ri&&Ri.v8;Ni?Li=(Pi=Ni.split("."))[0]+Pi[1]:$o&&(!(Pi=$o.match(/Edge\/(\d+)/))||74<=Pi[1])&&(Pi=$o.match(/Chrome\/(\d+)/))&&(Li=Pi[1]);function Ii(t){var e;return!(!Ue(t)||"function"!=typeof(e=t.then))&&e}function Fi(f,p,h){if(!p.notified){p.notified=!0;var d=p.reactions;Ti(function(){for(var t=p.value,e=1==p.state,n=0;d.length>n;){var r,o,i,a=d[n++],c=e?a.ok:a.fail,s=a.resolve,u=a.reject,l=a.domain;try{c?(e||(2===p.rejection&&pa(f,p),p.rejection=1),!0===c?r=t:(l&&l.enter(),r=c(t),l&&(l.exit(),i=!0)),r===a.promise?u(Zi("Promise-chain cycle")):(o=Ii(r))?o.call(r,s,u):s(r)):u(t)}catch(t){l&&!i&&l.exit(),u(t)}}p.reactions=[],p.notified=!1,h&&!p.rejection&&la(f,p)})}}function Di(t,e,n){var r,o;aa?((r=ta.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),Je.dispatchEvent(r)):r={promise:e,reason:n},(o=Je["on"+t])?o(r):t===ca&&function(t,e){var n=Je.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function zi(e,n,r,o){return function(t){e(n,r,t,o)}}function Bi(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Fi(t,e,!0))}var Ui,Hi,qi,Wi,Gi=Li&&+Li,Vi=yi.set,Ki=Xe("species"),Yi="Promise",Xi=Nn.get,Ji=Nn.set,Qi=Nn.getterFor(Yi),$i=Wo,Zi=Je.TypeError,ta=Je.document,ea=Je.process,na=Kn("fetch"),ra=Mi.f,oa=ra,ia="process"==Rn(ea),aa=!!(ta&&ta.createEvent&&Je.dispatchEvent),ca="unhandledrejection",sa=Pr(Yi,function(){if(!(En($i)!==String($i))){if(66===Gi)return!0;if(!ia&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=Gi&&/native code/.test($i))return!1;function t(t){t(function(){},function(){})}var e=$i.resolve(1);return(e.constructor={})[Ki]=t,!(e.then(function(){})instanceof t)}),ua=sa||!No(function(t){$i.all(t).catch(function(){})}),la=function(n,r){Vi.call(Je,function(){var t,e=r.value;if(fa(r)&&(t=_i(function(){ia?ea.emit("unhandledRejection",e,n):Di(ca,n,e)}),r.rejection=ia||fa(r)?2:1,t.error))throw t.value})},fa=function(t){return 1!==t.rejection&&!t.parent},pa=function(t,e){Vi.call(Je,function(){ia?ea.emit("rejectionHandled",t):Di("rejectionhandled",t,e.value)})},ha=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw Zi("Promise can't be resolved itself");var o=Ii(t);o?Ti(function(){var e={done:!1};try{o.call(t,zi(ha,n,e,r),zi(Bi,n,e,r))}catch(t){Bi(n,e,t,r)}}):(r.value=t,r.state=1,Fi(n,r,!1))}catch(t){Bi(n,{done:!1},t,r)}}};sa&&($i=function(t){Mo(this,$i,Yi),To(t),Ui.call(this);var e=Xi(this);try{t(zi(ha,this,e),zi(Bi,this,e))}catch(t){Bi(this,e,t)}},(Ui=function(){Ji(this,{type:Yi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Po($i.prototype,{then:function(t,e){var n=Qi(this),r=ra(Io(this,$i));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ia?ea.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Fi(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Hi=function(){var t=new Ui,e=Xi(t);this.promise=t,this.resolve=zi(ha,t,e),this.reject=zi(Bi,t,e)},Mi.f=ra=function(t){return t===$i||t===qi?new Hi(t):oa(t)},"function"==typeof Wo&&(Wi=Wo.prototype.then,In(Wo.prototype,"then",function(t,e){var n=this;return new $i(function(t,e){Wi.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof na&&Zn({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Ai($i,na.apply(Je,arguments))}}))),Zn({global:!0,wrap:!0,forced:sa},{Promise:$i}),Yr($i,Yi,!1),Lo(Yi),qi=Kn(Yi),Zn({target:Yi,stat:!0,forced:sa},{reject:function(t){var e=ra(this);return e.reject.call(void 0,t),e.promise}}),Zn({target:Yi,stat:!0,forced:sa},{resolve:function(t){return Ai(this,t)}}),Zn({target:Yi,stat:!0,forced:ua},{all:function(t){var c=this,e=ra(c),s=e.resolve,u=e.reject,n=_i(function(){var r=To(c.resolve),o=[],i=0,a=1;Xo(t,function(t){var e=i++,n=!1;o.push(void 0),a++,r.call(c,t).then(function(t){n||(n=!0,o[e]=t,--a||s(o))},u)}),--a||s(o)});return n.error&&u(n.value),e.promise},race:function(t){var n=this,r=ra(n),o=r.reject,e=_i(function(){var e=To(n.resolve);Xo(t,function(t){e.call(n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}}),Zn({target:"Promise",stat:!0},{allSettled:function(t){var c=this,e=Mi.f(c),s=e.resolve,n=e.reject,r=_i(function(){var r=To(c.resolve),o=[],i=0,a=1;Xo(t,function(t){var e=i++,n=!1;o.push(void 0),a++,r.call(c,t).then(function(t){n||(n=!0,o[e]={status:"fulfilled",value:t},--a||s(o))},function(t){n||(n=!0,o[e]={status:"rejected",reason:t},--a||s(o))})}),--a||s(o)});return r.error&&n(r.value),e.promise}});var da=!!Wo&&Be(function(){Wo.prototype.finally.call({then:function(){}},function(){})});Zn({target:"Promise",proto:!0,real:!0,forced:da},{finally:function(e){var n=Io(this,Kn("Promise")),t="function"==typeof e;return this.then(t?function(t){return Ai(n,e()).then(function(){return t})}:e,t?function(t){return Ai(n,e()).then(function(){throw t})}:e)}}),"function"!=typeof Wo||Wo.prototype.finally||In(Wo.prototype,"finally",Kn("Promise").prototype.finally);dr.Promise;var ma=Be(function(){Ur(1)});Zn({target:"Object",stat:!0,forced:ma},{keys:function(t){return Ur(tr(t))}});function va(t,e){var n=[][t];return!!n&&Be(function(){n.call(null,e||function(){throw 1},1)})}dr.Object.keys;var ya=[].join,ga=fr!=Object,wa=va("join",",");Zn({target:"Array",proto:!0,forced:ga||!wa},{join:function(t){return ya.call(Gn(this),void 0===t?",":t)}});function ba(t,e,n){return ko(Sa,Je[t].prototype[e],n)}function xa(t,e){var n;return ja(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!ja(n.prototype)?Ue(n)&&null===(n=n[Ca])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Oa(h){var d=1==h,m=2==h,v=3==h,y=4==h,g=6==h,w=5==h||g;return function(t,e,n,r){for(var o,i,a=tr(t),c=fr(a),s=ko(e,n,3),u=Yn(c.length),l=0,f=r||xa,p=d?f(t,u):m?f(t,0):void 0;l<u;l++)if((w||l in c)&&(i=s(o=c[l],l,a),h))if(d)p[l]=i;else if(i)switch(h){case 3:return!0;case 5:return o;case 6:return l;case 2:Aa.call(p,o)}else if(y)return!1;return g?-1:v||y?y:p}}function Ea(t){throw t}var Sa=Function.call,ja=(ba("Array","join"),Array.isArray||function(t){return"Array"==Rn(t)}),Ca=Xe("species"),Aa=[].push,_a={forEach:Oa(0),map:Oa(1),filter:Oa(2),some:Oa(3),every:Oa(4),find:Oa(5),findIndex:Oa(6)},Pa=Object.defineProperty,La={},Ta=_a.forEach,Ma=va("forEach"),ka=function(t,e){if(Ke(La,t))return La[t];var n=[][t],r=!!Ke(e=e||{},"ACCESSORS")&&e.ACCESSORS,o=Ke(e,0)?e[0]:Ea,i=Ke(e,1)?e[1]:void 0;return La[t]=!!n&&!Be(function(){if(r&&!Qe)return!0;var t={length:-1};r?Pa(t,1,{enumerable:!0,get:Ea}):t[1]=1,n.call(t,o,i)})}("forEach"),Ra=Ma&&ka?[].forEach:function(t,e){return Ta(this,t,1<arguments.length?e:void 0)};Zn({target:"Array",proto:!0,forced:[].forEach!=Ra},{forEach:Ra});ba("Array","forEach");function Na(t){if(Ue(e=t)&&(void 0!==(n=e[Wa])?n:"RegExp"==Rn(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}function Ia(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[Ga]=!1,"/./"[e](n)}catch(t){}}return!1}var Fa,Da=!Be(function(){return Object.isExtensible(Object.preventExtensions({}))}),za=De(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++o,weakData:{}}})}var e=nn.f,r=Ye("meta"),o=0,i=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!Ue(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Ke(t,r)){if(!i(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!Ke(t,r)){if(!i(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return Da&&a.REQUIRED&&i(t)&&!Ke(t,r)&&n(t),t}};An[r]=!0}),Ba=(za.REQUIRED,za.fastKey,za.getWeakData,za.onFreeze,nn.f),Ua=za.fastKey,Ha=Nn.set,qa=Nn.getterFor,Wa=(function(s,t,e){function n(t){var n=o[t];In(o,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!Ue(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!Ue(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!Ue(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var u=-1!==s.indexOf("Map"),r=-1!==s.indexOf("Weak"),l=u?"set":"add",f=Je[s],o=f&&f.prototype,p=f,i={};if(Pr(s,"function"!=typeof f||!(r||o.forEach&&!Be(function(){(new f).entries().next()}))))p=e.getConstructor(t,s,u,l),za.REQUIRED=!0;else if(Pr(s,!0)){var a=new p,c=a[l](r?{}:-0,1)!=a,h=Be(function(){a.has(1)}),d=No(function(t){new f(t)}),m=!r&&Be(function(){for(var t=new f,e=5;e--;)t[l](e,e);return!t.has(-0)});d||(((p=t(function(t,e){Mo(t,p,s);var n,r,o,i,a,c=(n=new f,r=t,o=p,ro&&"function"==typeof(i=r.constructor)&&i!==o&&Ue(a=i.prototype)&&a!==o.prototype&&ro(n,a),n);return null!=e&&Xo(e,c[l],c,u),c})).prototype=o).constructor=p),(h||m)&&(n("delete"),n("has"),u&&n("get")),(m||c)&&n(l),r&&o.clear&&delete o.clear}i[s]=p,Zn({global:!0,forced:p!=f},i),Yr(p,s),r||e.setStrong(p,s,u)}("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},{getConstructor:function(t,n,r,o){function i(t,e,n){var r,o,i=c(t),a=s(t,e);return a?a.value=n:(i.last=a={index:o=Ua(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),Qe?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t}var a=t(function(t,e){Mo(t,a,n),Ha(t,{type:n,index:$r(null),first:void 0,last:void 0,size:0}),Qe||(t.size=0),null!=e&&Xo(e,t[o],t,r)}),c=qa(n),s=function(t,e){var n,r=c(t),o=Ua(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Po(a.prototype,{clear:function(){for(var t=c(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Qe?t.size=0:this.size=0},delete:function(t){var e=c(this),n=s(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),Qe?e.size--:this.size--}return!!n},forEach:function(t,e){for(var n,r=c(this),o=ko(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(o(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),Po(a.prototype,r?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),Qe&&Ba(a.prototype,"size",{get:function(){return c(this).size}}),a},setStrong:function(t,e,n){var r=e+" Iterator",o=qa(e),i=qa(r);Qr(t,e,function(t,e){Ha(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Lo(e)}}),dr.Map,Xe("match")),Ga=Xe("match"),Va=hr.f,Ka="".startsWith,Ya=Math.min,Xa=Ia("startsWith"),Ja=!(Xa||(!(Fa=Va(String.prototype,"startsWith"))||Fa.writable));Zn({target:"String",proto:!0,forced:!Ja&&!Xa},{startsWith:function(t,e){var n=String(qn(this));Na(t);var r=Yn(Ya(1<arguments.length?e:void 0,n.length)),o=String(t);return Ka?Ka.call(n,o,r):n.slice(r,r+o.length)===o}});ba("String","startsWith");var Qa,$a=hr.f,Za="".endsWith,tc=Math.min,ec=Ia("endsWith"),nc=!(ec||(!(Qa=$a(String.prototype,"endsWith"))||Qa.writable));Zn({target:"String",proto:!0,forced:!nc&&!ec},{endsWith:function(t,e){var n=String(qn(this));Na(t);var r=1<arguments.length?e:void 0,o=Yn(n.length),i=void 0===r?o:tc(Yn(r),o),a=String(t);return Za?Za.call(n,a,i):n.slice(i-a.length,i)===a}});ba("String","endsWith"),De(function(T){!function(t){var s,e=Object.prototype,u=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a=t.regeneratorRuntime;if(a)T.exports=a;else{(a=t.regeneratorRuntime=T.exports).wrap=g;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",m={},c={};c[o]=function(){return this};var l=Object.getPrototypeOf,v=l&&l(l(P([])));v&&v!==e&&u.call(v,o)&&(c=v);var y=O.prototype=b.prototype=Object.create(c);x.prototype=y.constructor=O,O.constructor=x,O[i]=x.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},E(S.prototype),S.prototype[r]=function(){return this},a.AsyncIterator=S,a.async=function(t,e,n,r){var o=new S(g(t,e,n,r));return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},E(y),y[i]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=s),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=s),m}}}function g(t,e,n,r){var i,a,c,s,o=e&&e.prototype instanceof b?e:b,u=Object.create(o.prototype),l=new _(r||[]);return u._invoke=(i=t,a=n,c=l,s=f,function(t,e){if(s===h)throw new Error("Generator is already running");if(s===d){if("throw"===t)throw e;return L()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=j(n,c);if(r){if(r===m)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===f)throw s=d,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=h;var o=w(i,a,c);if("normal"===o.type){if(s=c.done?d:p,o.arg===m)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s=d,c.method="throw",c.arg=o.arg)}}),u}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function x(){}function O(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(s){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,o){var i=w(s[t],s,n);if("throw"!==i.type){var a=i.arg,c=a.value;return c&&"object"==typeof c&&u.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(c).then(function(t){a.value=t,r(a)},o)}o(i.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function j(t,e){var n=t.iterator[e.method];if(n===s){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=s,j(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=w(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=s),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=s,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:s,done:!0}}}(function(){return this}()||Function("return this")())});var rc=function(t,e){return(rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function oc(t,e){function n(){this.constructor=t}rc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ic=function(){return(ic=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ac(n,r){var o,i,a,t,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,i=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(n,c)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var cc;(cc=o.ApiMode||(o.ApiMode={})).LIVE="live",cc.TEST="test";var sc=(Object.defineProperty(uc.prototype,"apiRoot",{get:function(){return this.options.apiRoot[this.options.mode].trim()},enumerable:!0,configurable:!0}),Object.defineProperty(uc.prototype,"mode",{get:function(){return this.options.mode},enumerable:!0,configurable:!0}),Object.defineProperty(uc.prototype,"logger",{get:function(){return this.options.logger},enumerable:!0,configurable:!0}),uc.prototype.urlFor=function(t){return(this.apiRoot.endsWith("/")?this.apiRoot.slice(0,-1):this.apiRoot)+"/"+(t=t.startsWith("/")?t.slice(1):t)},uc.prototype.addUserAgentComponent=function(t,e){e?this.userAgentComponents.push(t+"/"+e):this.userAgentComponents.push(t)},Object.defineProperty(uc.prototype,"userAgentString",{get:function(){return this.userAgentComponents.reverse().join("; ")},enumerable:!0,configurable:!0}),uc);function uc(t,e){this.userAgentComponents=[],this.credentials=t,this.options=e}function lc(n,r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(r,t)}}var fc=Object.prototype.toString;function pc(t){return"[object Array]"===fc.call(t)}function hc(t){return void 0===t}function dc(t){return null!==t&&"object"==typeof t}function mc(t){return"[object Function]"===fc.call(t)}function vc(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),pc(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var yc={isArray:pc,isArrayBuffer:function(t){return"[object ArrayBuffer]"===fc.call(t)},isBuffer:function(t){return null!==t&&!hc(t)&&null!==t.constructor&&!hc(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:dc,isUndefined:hc,isDate:function(t){return"[object Date]"===fc.call(t)},isFile:function(t){return"[object File]"===fc.call(t)},isBlob:function(t){return"[object Blob]"===fc.call(t)},isFunction:mc,isStream:function(t){return dc(t)&&mc(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:vc,merge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]=t}for(var e=0,o=arguments.length;e<o;e++)vc(arguments[e],t);return r},deepMerge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]="object"==typeof t?n({},t):t}for(var e=0,o=arguments.length;e<o;e++)vc(arguments[e],t);return r},extend:function(n,t,r){return vc(t,function(t,e){n[e]=r&&"function"==typeof t?lc(t,r):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function gc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wc(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(yc.isURLSearchParams(e))r=e.toString();else{var o=[];yc.forEach(e,function(t,e){null!=t&&(yc.isArray(t)?e+="[]":t=[t],yc.forEach(t,function(t){yc.isDate(t)?t=t.toISOString():yc.isObject(t)&&(t=JSON.stringify(t)),o.push(gc(e)+"="+gc(t))}))}),r=o.join("&")}if(r){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}function bc(){this.handlers=[]}bc.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},bc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},bc.prototype.forEach=function(e){yc.forEach(this.handlers,function(t){null!==t&&e(t)})};function xc(e,n,t){return yc.forEach(t,function(t){e=t(e,n)}),e}function Oc(t){return!(!t||!t.__CANCEL__)}function Ec(n,r){yc.forEach(n,function(t,e){e!==r&&e.toUpperCase()===r.toUpperCase()&&(n[r]=t,delete n[e])})}function Sc(t,e,n,r,o){var i,a,c,s,u,l=new Error(t);return a=e,c=n,s=r,u=o,(i=l).config=a,c&&(i.code=c),i.request=s,i.response=u,i.isAxiosError=!0,i.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},i}var jc,Cc,Ac,_c=bc,Pc=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Lc=yc.isStandardBrowserEnv()?(Cc=/(msie|trident)/i.test(navigator.userAgent),Ac=document.createElement("a"),jc=Tc(window.location.href),function(t){var e=yc.isString(t)?Tc(t):t;return e.protocol===jc.protocol&&e.host===jc.host}):function(){return!0};function Tc(t){var e=t;return Cc&&(Ac.setAttribute("href",e),e=Ac.href),Ac.setAttribute("href",e),{href:Ac.href,protocol:Ac.protocol?Ac.protocol.replace(/:$/,""):"",host:Ac.host,search:Ac.search?Ac.search.replace(/^\?/,""):"",hash:Ac.hash?Ac.hash.replace(/^#/,""):"",hostname:Ac.hostname,port:Ac.port,pathname:"/"===Ac.pathname.charAt(0)?Ac.pathname:"/"+Ac.pathname}}function Mc(d){return new Promise(function(f,p){var n=d.data,r=d.headers;yc.isFormData(n)&&delete r["Content-Type"];var h=new XMLHttpRequest;if(d.auth){var t=d.auth.username||"",e=d.auth.password||"";r.Authorization="Basic "+btoa(t+":"+e)}var o,i,a,c,s=(o=d.baseURL,i=d.url,o&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i)?(a=o,(c=i)?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a):i);if(h.open(d.method.toUpperCase(),wc(s,d.params,d.paramsSerializer),!0),h.timeout=d.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var t,e,n,r,o,i,a,c,s,u="getAllResponseHeaders"in h?(t=h.getAllResponseHeaders(),o={},t&&yc.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=yc.trim(t.substr(0,r)).toLowerCase(),n=yc.trim(t.substr(r+1)),e){if(o[e]&&0<=Pc.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):null,l={data:d.responseType&&"text"!==d.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:u,config:d,request:h};i=f,a=p,!(s=(c=l).config.validateStatus)||s(c.status)?i(c):a(Sc("Request failed with status code "+c.status,c.config,null,c.request,c)),h=null}},h.onabort=function(){h&&(p(Sc("Request aborted",d,"ECONNABORTED",h)),h=null)},h.onerror=function(){p(Sc("Network Error",d,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+d.timeout+"ms exceeded";d.timeoutErrorMessage&&(t=d.timeoutErrorMessage),p(Sc(t,d,"ECONNABORTED",h)),h=null},yc.isStandardBrowserEnv()){var u=kc,l=(d.withCredentials||Lc(s))&&d.xsrfCookieName?u.read(d.xsrfCookieName):void 0;l&&(r[d.xsrfHeaderName]=l)}if("setRequestHeader"in h&&yc.forEach(r,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete r[e]:h.setRequestHeader(e,t)}),yc.isUndefined(d.withCredentials)||(h.withCredentials=!!d.withCredentials),d.responseType)try{h.responseType=d.responseType}catch(t){if("json"!==d.responseType)throw t}"function"==typeof d.onDownloadProgress&&h.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then(function(t){h&&(h.abort(),p(t),h=null)}),void 0===n&&(n=null),h.send(n)})}var kc=yc.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),yc.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),yc.isString(r)&&a.push("path="+r),yc.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Rc={"Content-Type":"application/x-www-form-urlencoded"};function Nc(t,e){!yc.isUndefined(t)&&yc.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Ic,Fc={adapter:("undefined"!=typeof XMLHttpRequest?Ic=Mc:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(Ic=Mc),Ic),transformRequest:[function(t,e){return Ec(e,"Accept"),Ec(e,"Content-Type"),yc.isFormData(t)||yc.isArrayBuffer(t)||yc.isBuffer(t)||yc.isStream(t)||yc.isFile(t)||yc.isBlob(t)?t:yc.isArrayBufferView(t)?t.buffer:yc.isURLSearchParams(t)?(Nc(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):yc.isObject(t)?(Nc(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};Fc.headers={common:{Accept:"application/json, text/plain, */*"}},yc.forEach(["delete","get","head"],function(t){Fc.headers[t]={}}),yc.forEach(["post","put","patch"],function(t){Fc.headers[t]=yc.merge(Rc)});var Dc=Fc;function zc(t){t.cancelToken&&t.cancelToken.throwIfRequested()}function Bc(e){return zc(e),e.headers=e.headers||{},e.data=xc(e.data,e.headers,e.transformRequest),e.headers=yc.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),yc.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||Dc.adapter)(e).then(function(t){return zc(e),t.data=xc(t.data,t.headers,e.transformResponse),t},function(t){return Oc(t)||(zc(e),t&&t.response&&(t.response.data=xc(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}function Uc(e,n){n=n||{};var r={},t=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];yc.forEach(t,function(t){void 0!==n[t]&&(r[t]=n[t])}),yc.forEach(o,function(t){yc.isObject(n[t])?r[t]=yc.deepMerge(e[t],n[t]):void 0!==n[t]?r[t]=n[t]:yc.isObject(e[t])?r[t]=yc.deepMerge(e[t]):void 0!==e[t]&&(r[t]=e[t])}),yc.forEach(i,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])});var a=t.concat(o).concat(i),c=Object.keys(n).filter(function(t){return-1===a.indexOf(t)});return yc.forEach(c,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])}),r}function Hc(t){this.defaults=t,this.interceptors={request:new _c,response:new _c}}Hc.prototype.request=function(t,e){"string"==typeof t?(t=e||{}).url=arguments[0]:t=t||{},(t=Uc(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[Bc,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){n.push(t.fulfilled,t.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},Hc.prototype.getUri=function(t){return t=Uc(this.defaults,t),wc(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},yc.forEach(["delete","get","head","options"],function(n){Hc.prototype[n]=function(t,e){return this.request(yc.merge(e||{},{method:n,url:t}))}}),yc.forEach(["post","put","patch"],function(r){Hc.prototype[r]=function(t,e,n){return this.request(yc.merge(n||{},{method:r,url:t,data:e}))}});var qc=Hc;function Wc(t){this.message=t}Wc.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Wc.prototype.__CANCEL__=!0;var Gc=Wc;function Vc(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new Gc(t),e(n.reason))})}Vc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Vc.source=function(){var e;return{token:new Vc(function(t){e=t}),cancel:e}};var Kc=Vc;function Yc(t){var e=new qc(t),n=lc(qc.prototype.request,e);return yc.extend(n,qc.prototype,e),yc.extend(n,e),n}var Xc=Yc(Dc);Xc.Axios=qc,Xc.create=function(t){return Yc(Uc(Xc.defaults,t))},Xc.Cancel=Gc,Xc.CancelToken=Kc,Xc.isCancel=Oc,Xc.all=function(t){return Promise.all(t)},Xc.spread=function(e){return function(t){return e.apply(null,t)}};var Jc=Xc,Qc=Xc;Jc.default=Qc;var $c=Jc,Zc=(Object.defineProperty(ts.prototype,"statusCode",{get:function(){return this.response.status},enumerable:!0,configurable:!0}),Object.defineProperty(ts.prototype,"data",{get:function(){return this.response.data},enumerable:!0,configurable:!0}),ts);function ts(t){this.response=t}var es,ns=(oc(rs,es=Error),rs);function rs(t,e,n){var r=es.call(this)||this;return r.message=t,r.request=e,r.response=n,r}var os=(is.prototype.setBody=function(t){return this.body=t,this},is.prototype.setQueryParams=function(t){return this.params=t,this},is.prototype.requestConfig=function(t){var e={url:this.url,headers:this.headers,params:this.params,method:t};return this.body&&(e.data=this.body),e=this.context.credentials.configureCredentials(e)},is.prototype.sendRequest=function(t){return $c.request(this.requestConfig(t)).then(is.processResponse).catch(this.processErrorResponse)},is.prototype.get=function(){return this.body=null,this.sendRequest("get")},is.prototype.post=function(){return this.sendRequest("post")},is.prototype.put=function(){return this.sendRequest("put")},is.processResponse=function(t){return new Zc(t)},is.prototype.processErrorResponse=function(t){var e,n="Unknown error";throw t.response?(e=new Zc(t.response)).data&&(n=e.data.message||e.data.error):n=t.name+": "+t.message,new ns(n,this,e)},is);function is(t,e){this.context=t,this.url=e,this.headers={"X-Alma-Agent":this.context.userAgentString,Accept:"application/json"},this.params={},this.body=null}var as=(Object.defineProperty(cs.prototype,"logger",{get:function(){return this.context.logger},enumerable:!0,configurable:!0}),cs.prototype.request=function(t){return new os(this.context,this.context.urlFor(t))},cs);function cs(t){this.context=t}var ss=(Object.defineProperty(us.prototype,"rawData",{get:function(){return this.data},enumerable:!0,configurable:!0}),us);function us(e){var n=this;this.data=e,Object.keys(e).forEach(function(t){return n[t]=e[t]})}var ls,fs=(oc(ps,ls=ss),Object.defineProperty(ps.prototype,"isEligible",{get:function(){return this.eligible},enumerable:!0,configurable:!0}),ps);function ps(){return null!==ls&&ls.apply(this,arguments)||this}var hs,ds=(oc(ms,hs=as),ms.prototype.eligibility=function(o){return i=this,s=function(){var e,n,r;return ac(this,function(t){switch(t.label){case 0:return[4,this.request("/v1/payments/eligibility").setBody(o).post()];case 1:return e=t.sent(),n=500<=e.statusCode,r=e.data,[2,!n&&Array.isArray(r)?(r=r.sort(function(t,e){return t.installments_count-e.installments_count})).map(function(t){return new fs(t)}):new fs(!n&&r&&"object"==typeof r?r:{eligible:!1})]}})},new(c=(c=a=void 0)||Promise)(function(t,e){function n(t){try{o(s.next(t))}catch(t){e(t)}}function r(t){try{o(s.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(n,r)}o((s=s.apply(i,a||[])).next())});var i,a,c,s},ms);function ms(){return null!==hs&&hs.apply(this,arguments)||this}var vs=(ys.prototype.configureCredentials=function(t){return ic(ic({},t),{headers:ic(ic({},t.headers),{Authorization:"Alma-Auth "+this.apiKey})})},ys);function ys(t){if(!t.trim())throw new Error("An API key is required to instantiate a new Client");this.apiKey=t}var gs=(ws.prototype.configureCredentials=function(t){return ic(ic({},t),{headers:ic(ic({},t.headers),{Authorization:"Alma-Merchant-Auth "+this.merchantId})})},ws);function ws(t){if(!t.trim())throw new Error("An API key is required to instantiate a new Client");this.merchantId=t}var bs=(xs.withApiKey=function(t,e){return void 0===e&&(e={}),new xs(new vs(t),e)},xs.withMerchantId=function(t,e){return void 0===e&&(e={}),new xs(new gs(t),e)},xs.initOptions=function(t){var e,n,r={apiRoot:((e={})[o.ApiMode.TEST]="https://api.sandbox.getalma.eu",e[o.ApiMode.LIVE]="https://api.getalma.eu",e),mode:o.ApiMode.LIVE,logger:console};if("string"==typeof(t=ic(ic({},r),t)).apiRoot)t.apiRoot=((n={})[o.ApiMode.TEST]=t.apiRoot,n[o.ApiMode.LIVE]=t.apiRoot,n);else if(!t.apiRoot||!t.apiRoot[o.ApiMode.TEST]||!t.apiRoot[o.ApiMode.LIVE])throw new Error("ClientOptions `apiRoot` must be a string or an object with ApiMode values as keys");if(t.mode!==o.ApiMode.LIVE&&t.mode!==o.ApiMode.TEST)throw new Error("ClientOptions `mode` must be an ApiMode value");return t},xs.prototype.initUserAgent=function(){this.addUserAgentComponent("JavaScript"),this.addUserAgentComponent("Alma for JS","0.0.1")},xs.prototype.addUserAgentComponent=function(t,e){this.context.addUserAgentComponent(t,e)},xs.prototype.endpoint=function(t){var e=this.endpoints.get(t);return e||(e=new t(this.context),this.endpoints.set(t,e)),e},Object.defineProperty(xs.prototype,"payments",{get:function(){return this.endpoint(ds)},enumerable:!0,configurable:!0}),xs);function xs(t,e){void 0===e&&(e={}),this.endpoints=new Map,e=xs.initOptions(e),this.context=new sc(t,e),this.initUserAgent()}var Os=function(t,e){return(Os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Es(t,e){function n(){this.constructor=t}Os(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ss=function(){return(Ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function js(i,a,c,s){return new(c=c||Promise)(function(t,e){function n(t){try{o(s.next(t))}catch(t){e(t)}}function r(t){try{o(s.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(n,r)}o((s=s.apply(i,a||[])).next())})}function Cs(n,r){var o,i,a,t,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,i=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=r.call(n,c)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var As=(_s.prototype.create=function(t,e){var n=new t(this.almaClient,e);return this.widgets.push(n),n},_s.prototype.render=function(){return js(this,void 0,void 0,function(){var e,n,r,o;return Cs(this,function(t){switch(t.label){case 0:for(e=[],n=0,r=this.widgets;n<r.length;n++)o=r[n],e.push(o.refresh());return[4,Promise.all(e)];case 1:return t.sent(),[2]}})})},_s);function _s(t){this.widgets=[],this.almaClient=t}function Ps(t,e){void 0===t&&(t=""),void 0===e&&(e="div");var n=document.createElement(e);return n.className=t,n}function Ls(t,e,n){void 0===e&&(e=""),void 0===n&&(n="");var r=document.createElement("ul");r.className=e;var o=t.map(function(t){var e=document.createElement("li");return e.className=n,Rs(e,t),e});return Rs(r,o),r}function Ts(t){return Math.round(100*t)}function Ms(t){return Number((t/100).toFixed(2))}function ks(t){return String(Ms(t)).replace(".",",")}function Rs(t,e){if("string"==typeof e)t.innerHTML=e;else{t.innerHTML="",Array.isArray(e)||(e=[e]);for(var n=0,r=e;n<r.length;n++){var o=r[n];t.appendChild(o)}}}function Ns(t,e){void 0===e&&(e="");var n=new Image;return n.src=t,n.className=e,n}function Is(t,e){return t.getUTCDate()===e.getUTCDate()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCFullYear()===e.getUTCFullYear()}function Fs(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),Is(t,new Date)&&!n?"aujourd'hui":(r=t,o=new Date,Is(r,new Date(o.setDate(o.getDate()-1)))&&!n?"hier":(e?"le ":"")+t.toLocaleDateString());var r,o}function Ds(t){return 1===t.length?String(t[0]):2===t.length?t.join(" ou "):t.slice(0,t.length-1).join(", ")+" ou "+t[t.length-1]}var zs=(Object.defineProperty(Bs.prototype,"config",{get:function(){return Ss({},this._config)},enumerable:!0,configurable:!0}),Object.defineProperty(Bs.prototype,"container",{get:function(){var t;if("string"==typeof this._config.container){if(!(t=document.querySelector(this._config.container)))throw new Error("Container element '"+this._config.container+"' not found")}else t=this._config.container;return t},enumerable:!0,configurable:!0}),Bs.prototype.refresh=function(){return js(this,void 0,void 0,function(){var e,n,r,o;return Cs(this,function(t){switch(t.label){case 0:return[4,this.prepare(this._almaClient)];case 1:return e=t.sent(),n=new As(this._almaClient),o=n.create.bind(n),"function"!=typeof this._config.render?[3,3]:[4,this._config.render(e,o)];case 2:return r=t.sent(),[3,5];case 3:return[4,this.render(e,o)];case 4:r=t.sent(),t.label=5;case 5:return this.mount(r),[4,n.render()];case 6:return t.sent(),[2]}})})},Bs.prototype.mount=function(t){Rs(this.container,t)},Bs);function Bs(t,e){this._config=e,this._almaClient=t}var Us="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='88' height='36' viewBox='0 0 88 36'%3e%3cpath fill='%233651D2' d='M1 31h87v5H1z' /%3e%3cpath fill='%23262626' d='M13.008 11.85v-1.71h4.922v15.247h-4.922v-1.846C11.674 25.592 9.76 25.9 8.495 25.9c-2.188 0-4.034-.547-5.709-2.325C1.18 21.866.564 19.883.564 17.866c0-2.563.957-4.751 2.359-6.153 1.333-1.333 3.18-2.085 5.299-2.085 1.299 0 3.384.307 4.786 2.222zm-3.556 2.017c-1.06 0-2.05.444-2.7 1.094-.513.512-1.129 1.401-1.129 2.769 0 1.367.582 2.256 1.026 2.735.684.717 1.743 1.196 2.906 1.196.991 0 1.914-.41 2.564-1.06.65-.615 1.196-1.572 1.196-2.871 0-1.094-.41-2.12-1.128-2.804-.752-.717-1.846-1.06-2.735-1.06zM25.612.466h4.922v24.921h-4.922V.466zm12.604 24.921V10.141h4.922v1.777c1.265-1.914 3.111-2.154 4.274-2.154.65 0 1.846.069 2.871.684.786.445 1.436 1.197 1.846 2.12a5.82 5.82 0 0 1 1.949-1.949c1.06-.65 2.05-.855 3.247-.855 1.846 0 3.35.547 4.274 1.436 1.47 1.402 1.572 3.453 1.572 4.547v9.64h-4.923v-7.726c0-.786 0-2.153-.65-2.974-.41-.513-1.059-.82-1.777-.82-.82 0-1.504.376-1.914.923-.65.82-.752 2.017-.752 3.008v7.59h-4.923v-7.932c0-1.025-.034-2.222-.786-2.974-.513-.513-1.128-.615-1.641-.615-.65 0-1.23.17-1.71.615-.922.889-.957 2.598-.957 3.11v7.795h-4.922zM82.44 11.85v-1.71h4.923v15.247h-4.923v-1.846c-1.333 2.051-3.247 2.359-4.512 2.359-2.188 0-4.034-.547-5.71-2.325-1.606-1.709-2.221-3.692-2.221-5.709 0-2.563.957-4.751 2.359-6.153 1.333-1.333 3.179-2.085 5.298-2.085 1.3 0 3.385.307 4.786 2.222zm-3.555 2.017c-1.06 0-2.051.444-2.7 1.094-.513.512-1.129 1.401-1.129 2.769 0 1.367.581 2.256 1.026 2.735.683.717 1.743 1.196 2.906 1.196.99 0 1.914-.41 2.563-1.06.65-.615 1.197-1.572 1.197-2.871 0-1.094-.41-2.12-1.128-2.804-.752-.717-1.846-1.06-2.735-1.06z'/%3e%3c/svg%3e",Hs="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 443.9 476.5'%3e%3cpath fill='gray' d='M222 29.5c-115.4 0-209 93.6-209 209.1s93.6 209.1 209.1 209.1 209.1-93.6 209.1-209.1C431.1 123.1 337.5 29.5 222 29.5zm-2.6 52.4c23.1 0 41.8 18.8 41.8 41.8s-18.8 41.8-41.8 41.8c-23.1 0-41.9-18.8-41.9-41.8s18.8-41.8 41.9-41.8zm86.9 276.9l-169.6-1.4.4-55.8 60.8.5v-53.5l-61.2-.5.4-55.8 88.9.7c15.3.1 27.7 12.6 27.7 27.9v81.5l53 .5-.4 55.9z'%3e%3c/path%3e%3c/svg%3e";var qs,Ws={logo:function(){return Ns(Us)},cta:function(t,e){var n=Ps(e.cta);return n.appendChild(document.createTextNode("Comment ça marche ?")),n.appendChild(Ns(Hs)),n.onclick=t,n},modal:function(t,e,n){var r=Ps(n.modal.wrapper),o=Ps(n.modal.frame);Rs(o,t);var i=document.createElement("button");return i.innerHTML="&times;",i.className=n.modal.closeButton,i.onclick=e,o.appendChild(i),r.appendChild(o),r.onclick=function(t){return t.target!==r?(t.preventDefault(),!1):e(t)},r},modalContent:function(t,e,u){var n=Ps(u.modal.content.wrapper),r=Ps(u.modal.content.logoContainer);Rs(r,Ns(Us)),n.appendChild(r);var o=Ps("","p");o.innerText="Payer avec Alma, c'est simple et immédiat :",n.appendChild(o);var i=Ls(["Validez votre panier","Sélectionnez l'option de paiement en plusieurs fois Alma","Entrez votre numéro de carte bancaire, et c'est tout !"]);n.appendChild(i);var a=Ps(u.modal.content.paymentPlansWrapper),l=[],f=[];(t=t.sort(function(t,e){return t.length-e.length})).forEach(function(t){var e=t.length,n=ks(t.reduce(function(t,e){return t+e.purchase_amount},0)),r=Ms(t.reduce(function(t,e){return t+e.customer_fee},0)),o='<span class="amount">'+n+'&nbsp;€</span> en <span class="'+u.modal.content.paymentPlanButton.installmentsCount+'">'+e+"&times;</span>";l.push(o);var i=[],a=Ps(u.modal.cardLogos.wrapper);a.appendChild(Ns("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='16' viewBox='0 0 24 16'%3e%3cdefs%3e%3clinearGradient id='cardcb' x1='5.842%25' x2='95.393%25' y1='81.753%25' y2='17.344%25'%3e%3cstop offset='0%25' stop-color='%2339B54A'%3e%3c/stop%3e %3cstop offset='100%25' stop-color='%230A5296'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e %3cg fill='none' fill-rule='nonzero'%3e%3cpath fill='url(%23cardcb)' d='M22.621 16H1.38C.627 16 0 15.392 0 14.662V1.338C0 .608.627 0 1.379 0H22.62C23.373 0 24 .608 24 1.338v13.324c-.063.73-.627 1.338-1.379 1.338z'%3e%3c/path%3e %3cg fill='white'%3e%3cpath d='M19.094 4.03h-6.437V8h6.498c1.165 0 2.084-.889 2.084-2.015-.06-1.066-.98-1.955-2.145-1.955zM19.094 8.593h-6.437v3.97h6.498c1.165 0 2.084-.889 2.084-2.015-.06-1.067-.98-1.955-2.145-1.955zM7.017 8.06h4.966c-.245-2.371-2.391-4.267-4.966-4.267-2.758 0-5.027 2.074-5.027 4.681s2.269 4.682 5.027 4.682c2.698 0 4.904-2.015 5.027-4.563H7.017v-.534z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",u.modal.cardLogos.logo)),a.appendChild(Ns("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='16' viewBox='0 0 24 16'%3e%3cg fill='none' fill-rule='nonzero'%3e%3cpath fill='%23FCFCFC' d='M22.684 16H1.38C.627 16 0 15.39 0 14.656V1.344C0 .61.627 0 1.379 0H22.62C23.373 0 24 .61 24 1.344v13.374c0 .671-.564 1.282-1.316 1.282z'%3e%3c/path%3e %3cpath fill='%23005098' d='M8.889 10.726l.948-5.393h1.482l-.949 5.393zM15.704 5.452a3.658 3.658 0 0 0-1.304-.237c-1.481 0-2.489.71-2.489 1.778 0 .77.711 1.185 1.304 1.481.592.237.77.415.77.652 0 .355-.474.533-.889.533-.592 0-.889-.059-1.363-.296l-.177-.06-.178 1.186c.355.178 1.007.296 1.659.296 1.54 0 2.548-.71 2.548-1.837 0-.592-.415-1.067-1.244-1.481-.534-.237-.83-.415-.83-.652 0-.237.237-.474.83-.474.474 0 .83.118 1.126.178l.118.059.119-1.126M19.496 5.333H18.37c-.355 0-.592.119-.77.474l-2.193 4.919h1.541s.237-.652.296-.83h1.897c.059.178.178.83.178.83h1.362l-1.185-5.393zM17.66 8.77l.593-1.481s.118-.296.178-.533l.118.474s.296 1.303.356 1.54h-1.245zM7.644 5.333L6.222 9.007l-.178-.77C5.748 7.348 4.92 6.459 4.03 5.985l1.303 4.682h1.541l2.311-5.393h-1.54'%3e%3c/path%3e %3cpath fill='%23F6A500' d='M4.919 5.333h-2.37v.119c1.836.474 3.08 1.54 3.555 2.844L5.57 5.807c-.118-.414-.355-.474-.651-.474'%3e%3c/path%3e %3cpath fill='%230A5296' d='M23.937 3.23H0V1.316C0 .598.627 0 1.379 0H22.62C23.373 0 24 .598 24 1.316V3.23h-.063z'%3e%3c/path%3e %3cpath fill='%23F4A428' d='M.063 13H24v1.8c0 .655-.625 1.2-1.375 1.2H1.375C.625 16 0 15.455 0 14.8V13h.063z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",u.modal.cardLogos.logo)),a.appendChild(Ns("data:image/svg+xml,%3csvg width='24px' height='16px' viewBox='0 0 24 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg id='Parcours-1C-B' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e%3cg id='mobile-1C-Paiement-V1' transform='translate(-269.000000%2c -313.000000)'%3e%3cg id='mastercard' transform='translate(269.000000%2c 313.000000)'%3e%3crect id='Rectangle' fill='white' x='0' y='0' width='24' height='16' rx='1'%3e%3c/rect%3e %3cg id='Group-6' transform='translate(4.000000%2c 3.000000)'%3e%3ccircle id='Oval-4-Copy' fill='%23EA001B' cx='5.05263158' cy='5.05263158' r='5.05263158'%3e%3c/circle%3e %3ccircle id='Oval-4' fill-opacity='0.25' fill='%23F79F1A' cx='10.9473684' cy='5.05263158' r='5.05263158'%3e%3c/circle%3e %3ccircle id='Oval-4-Copy-2' fill-opacity='0.9' fill='%23F79F1A' cx='10.9473684' cy='5.05263158' r='5.05263158'%3e%3c/circle%3e %3ccircle id='Oval-4-Copy-3' fill-opacity='0.3' fill='%23EA001B' cx='5.05263158' cy='5.05263158' r='5.05263158'%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",u.modal.cardLogos.logo)),a.appendChild(Ns("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='16' viewBox='0 0 24 16'%3e%3cdefs%3e%3clinearGradient id='cardamex' x1='10.914%25' x2='87.432%25' y1='86.279%25' y2='15.035%25'%3e%3cstop offset='0%25' stop-color='%233FA9F5'%3e%3c/stop%3e %3cstop offset='100%25' stop-color='%230071BC'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e %3cg fill='none' fill-rule='evenodd'%3e%3cpath fill='url(%23cardamex)' fill-rule='nonzero' d='M22.559 16H1.379C.627 16 0 15.392 0 14.662V1.338C0 .608.627 0 1.379 0H22.62C23.373 0 24 .608 24 1.338v13.324c-.063.73-.627 1.338-1.441 1.338z'%3e%3c/path%3e %3cg fill='white'%3e%3cpath d='M10.115 8.711L8.889 6.044H7.295v3.852L5.517 6.044H4.17l-1.778 4.03h1.103l.368-.889h2.023l.368.89h2.084V7.11l1.349 2.963h.92l1.348-2.904v2.904h.98v-4.03H11.28l-1.165 2.667zm-5.272-.474H4.23l.613-1.422v.06l.613 1.362h-.613z'%3e%3c/path%3e %3cpath fill-rule='nonzero' d='M19.372 7.94l.735-.77 1.042-1.185h-1.287L18.697 7.23l-1.164-1.245h-3.985v3.97h3.923l1.226-1.303 1.165 1.304h1.287L20.107 8.71l-.735-.77zM16.92 9.186h-2.33v-.77h2.268v-.77H14.59v-.712h2.33L18.084 8 16.92 9.185z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",u.modal.cardLogos.logo)),i.push(a);var c=Ps(u.modal.content.creditCardPayment,"p"),s="Paiement ";s+=0===r?"<strong>sans frais,</strong> par carte bancaire":"par carte bancaire",s+=", en "+e+" échéances :",c.innerHTML=s,i.push(c),i.push(Ls(t.map(function(t){var e=ks(t.purchase_amount+t.customer_fee),n=0===t.customer_fee?"":"(dont frais : "+ks(t.customer_fee)+"&nbsp;€)",r=Fs(new Date(1e3*t.due_date),!0),o='<span class="'+u.modal.content.installmentAmount+'">'+e+"&nbsp;€</span>";return o+=' <span class="'+u.modal.content.installmentDate+'">'+r+"</span> ",o+=' <span class="'+u.modal.content.installmentFees+'">'+n+"</span> "}))),f.push(i)});var c=Ls(l,u.modal.content.paymentPlansButtons,u.modal.content.paymentPlanButton.button);a.appendChild(c);var s=Ps(u.modal.content.paymentPlanDetailsWrapper);a.appendChild(s),Rs(s,f[0]),c.querySelector("."+u.modal.content.paymentPlanButton.button).classList.add(u.modal.content.paymentPlanButton.selected),c.onclick=function(t){var e,n;null===(e=c.querySelector("."+u.modal.content.paymentPlanButton.selected))||void 0===e||e.classList.remove(u.modal.content.paymentPlanButton.selected);var r=null===(n=t.target)||void 0===n?void 0:n.closest("."+u.modal.content.paymentPlanButton.button);if(r){var o=Array.from(c.children).indexOf(r);Rs(s,f[o]),r.classList.add(u.modal.content.paymentPlanButton.selected)}},n.appendChild(a);var p=Ps(u.modal.content.footer.wrapper),h=document.createElement("button");return h.className=u.modal.content.footer.closeButton,h.innerText="J'ai compris !",h.onclick=e,p.appendChild(h),n.appendChild(p),n}},Gs={root:"alma-how_it_works",logo:"alma-how_it_works--logo",cta:"alma-how_it_works--cta",modal:{root:"alma-modal",wrapper:"alma-modal--wrapper",frame:"alma-modal--frame",closeButton:"alma-modal--close-btn",cardLogos:{wrapper:"alma-hiw_content--card-logos",logo:"alma-hiw_content--card-logo"},content:{wrapper:"alma-hiw_content--wrapper",logoContainer:"alma-hiw_content--logo",paymentPlansWrapper:"alma-hiw_content--plans",paymentPlansButtons:"alma-hiw_content--plans-btns",paymentPlanButton:{button:"alma-hiw_content--plan-btn",selected:"alma-hiw_content--plan-btn__selected",installmentsCount:"alma-hiw_content--plan-btn--installments_count"},paymentPlanDetailsWrapper:"alma-hiw_content--plan-details",creditCardPayment:"alma-hiw_content--cc-payment",installmentAmount:"alma-hiw_content--installment-amount",installmentFees:"alma-hiw_content--installment-fees",installmentDate:"alma-hiw_content--installment-date",footer:{wrapper:"alma-hiw_content--footer",closeButton:"alma-hiw_content--close-btn"}}}},Vs=(Es(Ks,qs=zs),Object.defineProperty(Ks.prototype,"config",{get:function(){return Ss({},this._config)},enumerable:!0,configurable:!0}),Ks.prototype.openModal=function(t){return t.preventDefault(),!(this.modalWrapper.style.display="block")},Ks.prototype.closeModal=function(t){return t.preventDefault(),!(this.modalWrapper.style.display="none")},Ks.prototype.prepare=function(e){return js(this,void 0,void 0,function(){return Cs(this,function(t){switch(t.label){case 0:return 0!==this.config.samplePlans.length?[3,2]:[4,e.payments.eligibility({payment:{purchase_amount:3e4,installments_count:[3,4]}})];case 1:return[2,t.sent().filter(function(t){return t.eligible}).map(function(t){return t.payment_plan})];case 2:return[2,this.config.samplePlans]}})})},Ks.prototype.render=function(a){return js(this,void 0,void 0,function(){var e,n,r,o,i;return Cs(this,function(t){return(e=document.createElement("div")).className=this.config.classes.root,this.config.displayLogo&&(Rs(n=Ps(this.config.classes.logo),this.config.templates.logo(this.config.classes)),e.appendChild(n)),Rs(r=Ps(),this.config.templates.cta(this.openModal.bind(this),this.config.classes)),e.appendChild(r),o=this.closeModal.bind(this),i=this.config.templates.modalContent(a,o,this.config.classes),this.modalWrapper=Ps(this.config.classes.modal.root),this.modalWrapper.style.display="none",Rs(this.modalWrapper,this.config.templates.modal(i,o,this.config.classes)),document.body.appendChild(this.modalWrapper),[2,e]})})},Ks);function Ks(t,e){var n=this;return e=Ss(Ss({displayLogo:!0,displayInfoIcon:!0,ctaContent:"Comment ça marche ?",samplePlans:[]},e),{templates:Ss(Ss({},Ws),e.templates),classes:Ss(Ss({},Gs),e.classes)}),(n=qs.call(this,t,e)||this).modalWrapper=null,n}function Ys(o,i){return function(t,e){var n=Ps(e.cta);n.appendChild(o);var r=Ns(Hs);return r.className=i.infoButton,n.appendChild(r),n.onclick=t,n}}function Xs(t,e){var n=document.createElement("span");return n.className=e.paymentPlan.installmentAmount,n.innerHTML=t,n}var Js,Qs,$s,Zs={title:function(t,e,n){var r=Ps(e.classes.title),o=document.createElement("strong"),i=t.map(function(t){return t.payment_plan.reduce(function(t,e){return t+e.customer_fee},0)}).reduce(function(t,e){return t+e},0);return o.innerHTML="Payez "+ks(e.purchaseAmount)+"&nbsp;€ en "+Ds(t.map(function(t){return t.installments_count}))+" fois"+(0===i?" sans frais":""),n(Vs,{container:r,displayLogo:!1,samplePlans:t.map(function(t){return t.payment_plan}),templates:{cta:Ys(o,e.classes)}}),r},paymentPlan:function(t,e,n){var r=document.createElement("span");r.className=e.classes.paymentPlan.installmentsCount,r.innerHTML=t.installments_count+"&times;";var o=document.createElement("span");o.className=e.classes.paymentPlan.installmentsWrapper;var i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}(t.payment_plan),a=t.payment_plan.every(function(t,e,n){return t.purchase_amount+t.customer_fee===n[0].purchase_amount+n[0].customer_fee});if(!a){var c=t.payment_plan[0].purchase_amount+t.payment_plan[0].customer_fee;o.appendChild(Xs(ks(c)+" €",e.classes)),o.appendChild(document.createTextNode(" + "))}var s=i[1].purchase_amount+i[1].customer_fee,u=a?i.length:i.length-1;return o.appendChild(Xs(u+" &times; "+ks(s)+" €",e.classes)),[r,o]},notEligible:function(t,e,n,r,o){var i=Ps(r.classes.title),a=document.createElement("strong");return a.innerHTML="Payez en "+Ds(n)+" fois entre "+ks(t)+"&nbsp;€ et "+ks(e)+"&nbsp;€",o(Vs,{container:i,displayLogo:!1,templates:{cta:Ys(a,r.classes)}}),i}},tu={root:"alma-payment_plan",title:"alma-payment_plan--title",infoButton:"alma-payment_plan--info_btn",paymentPlan:{root:"alma-payment_plan--plan",installmentsCount:"alma-payment_plan--installments_count",installmentsWrapper:"alma-payment_plan--installments",installmentAmount:"alma-payment_plan--installment"},notEligible:"alma-payment_plan--not_eligible"},eu=(Es(nu,Js=zs),Object.defineProperty(nu.prototype,"config",{get:function(){return Ss({},this._config)},enumerable:!0,configurable:!0}),Object.defineProperty(nu.prototype,"installmentsCounts",{get:function(){var t=this.config.installmentsCount;return"number"==typeof this.config.installmentsCount&&(t=[this.config.installmentsCount]),t},enumerable:!0,configurable:!0}),nu.prototype.prepare=function(r){return js(this,void 0,void 0,function(){var e,n;return Cs(this,function(t){return e=this._config,n=this.installmentsCounts,e.purchaseAmount<e.minPurchaseAmount||e.purchaseAmount>e.maxPurchaseAmount?[2,[{eligible:!1,reasons:{purchase_amount:"invalid_value"},constraints:{purchase_amount:{minimum:e.minPurchaseAmount,maximum:e.maxPurchaseAmount}}}]]:[2,r.payments.eligibility({payment:{purchase_amount:e.purchaseAmount,installments_count:n}})]})})},nu.prototype.render=function(m,v){return js(this,void 0,void 0,function(){var e,n,r,o,i,a,c,s,u,l,f,p,h,d;return Cs(this,function(t){for((e=document.createElement("div")).className=this.config.classes.root,n=[],r=Number.MAX_VALUE,o=Number.MIN_VALUE,i=0,a=m;i<a.length;i++)(p=a[i]).eligible?n.push(p):p.reasons.installments_count||(c=Math.max(this.config.minPurchaseAmount||0,p.constraints.purchase_amount.minimum),s=Math.min(this.config.maxPurchaseAmount||0,p.constraints.purchase_amount.maximum),r=c<r?c:r,o=o<s?s:o);if(0<n.length)for((u=document.createElement("div")).className=this.config.classes.title,Rs(u,this.config.templates.title(n,this.config,v)),Rs(e,u),l=0,f=n;l<f.length;l++)p=f[l],(h=document.createElement("div")).className=this.config.classes.paymentPlan.root,Rs(h,this.config.templates.paymentPlan(p,this.config,v)),e.appendChild(h);else(d=document.createElement("div")).className=this.config.classes.notEligible,Rs(d,this.config.templates.notEligible(r,o,this.installmentsCounts,this.config,v)),Rs(e,d);return[2,e]})})},nu);function nu(t,e){return e=Ss(Ss({},e),{templates:Ss(Ss({},Zs),e.templates),classes:Ss(Ss({},tu),e.classes)}),Js.call(this,t,e)||this}(Qs=o.Widgets||(o.Widgets={})).initialize=function(t,e){var n=bs.withMerchantId(t,{mode:e});return new As(n)},Qs.PaymentPlan=eu,Qs.HowItWorks=Vs,($s=o.Utils||(o.Utils={})).priceToCents=Ts,$s.priceFromCents=Ms,$s.formatCents=ks,$s.joinInstallmentsCounts=Ds,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=alma-widgets.umd.min.js.map
