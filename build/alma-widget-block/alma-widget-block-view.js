(()=>{"use strict";const e=window.wp.element,t=window.wp.data,n=window.ReactJSXRuntime,a=()=>{if(!window.wc.wcSettings.getSetting("alma-widget-block_data",null).must_be_displayed)return null;const{CART_STORE_KEY:a}=window.wc.wcBlocksData,i=(0,t.useSelect)((e=>{const t=e(a);return t&&t.getCartTotals()?.total_price||0}),[]);return(0,e.useEffect)((()=>{i&&window.Alma&&window.wc&&function(){const e=window.wc.wcSettings.getSetting("alma-widget-block_data",null);e&&Alma.Widgets.initialize(e.merchant_id,Alma.ApiMode[e.environment]).add(Alma.Widgets.PaymentPlans,{container:"#alma-widget",purchaseAmount:i,locale:e.locale,hideIfNotEligible:!1,plans:e.plans.map((e=>({installmentsCount:e.installments_count,minAmount:e.min_amount,maxAmount:e.max_amount,deferredDays:e.deferred_days,deferredMonths:e.deferred_months})))})}()}),[i]),(0,n.jsx)("div",{id:"alma-widget"})};!function(t){const i="alma-widget-container";var o;(o="#"+i,new Promise((e=>{const n=new MutationObserver((()=>{t(o).length>0&&(e(t(o)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}))).then((()=>{const t=document.getElementById(i);t&&(0,e.render)((0,n.jsx)(a,{}),t)}))}(jQuery)})();