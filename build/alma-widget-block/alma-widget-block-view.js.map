{"version":3,"file":"alma-widget-block/alma-widget-block-view.js","mappings":";;;;;AAAA,CAAC,UAAUA,CAAC,EAAE;EACV,MAAMC,eAAe,GAAG,cAAc;EAEtC,SAASC,iBAAiBA,CAACC,QAAQ,EAAE;IACjC,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC5B,MAAMC,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,MAAM;QACxC,IAAIP,CAAC,CAACG,QAAQ,CAAC,CAACK,MAAM,GAAG,CAAC,EAAE;UACxBH,OAAO,CAACL,CAAC,CAACG,QAAQ,CAAC,CAAC;UACpBG,QAAQ,CAACG,UAAU,CAAC,CAAC;QACzB;MACJ,CAAC,CAAC;MAEFH,QAAQ,CAACI,OAAO,CAACC,QAAQ,CAACC,IAAI,EAAE;QAACC,SAAS,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAI,CAAC,CAAC;IACrE,CAAC,CAAC;EACN;EAEA,SAASC,aAAaA,CAAA,EAAG;IACrBb,iBAAiB,CAACD,eAAe,CAAC,CAACe,IAAI,CAAC,MAAM;MAC1C,MAAMC,IAAI,GAAGC,MAAM,CAACC,EAAE,CAACC,UAAU,CAACC,UAAU,CAAE,wBAAuB,EAAE,IAAI,CAAC;MAC5E,IAAIC,MAAM,GAAGC,IAAI,CAACC,OAAO,CAACC,UAAU,CAChCR,IAAI,CAACS,WAAW,EAChBH,IAAI,CAACI,OAAO,CAACV,IAAI,CAACW,WAAW,CACjC,CAAC;MAEDN,MAAM,CAACO,GAAG,CAACN,IAAI,CAACC,OAAO,CAACM,YAAY,EAAE;QAClCC,SAAS,EAAE9B,eAAe;QAC1B+B,cAAc,EAAEf,IAAI,CAACgB,MAAM;QAC3BC,MAAM,EAAEjB,IAAI,CAACiB,MAAM;QACnBC,iBAAiB,EAAE,KAAK;QACxBC,KAAK,EAAEnB,IAAI,CAACmB,KAAK,CAACC,GAAG,CACjB,UAAUC,IAAI,EAAE;UACZ,OAAO;YACHC,iBAAiB,EAAED,IAAI,CAACE,kBAAkB;YAC1CC,SAAS,EAAEH,IAAI,CAACI,UAAU;YAC1BC,SAAS,EAAEL,IAAI,CAACM,UAAU;YAC1BC,YAAY,EAAEP,IAAI,CAACQ,aAAa;YAChCC,cAAc,EAAET,IAAI,CAACU;UACzB,CAAC;QACL,CACJ;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EACN;EAEAjC,aAAa,CAAC,CAAC;AACnB,CAAC,EAAEkC,MAAM,CAAC,C","sources":["webpack://alma-woocommerce-gateway/./src/alma-widget-block/alma-widget-block-view.js"],"sourcesContent":["(function ($) {\n    const almaWidgetDivId = '#alma-widget';\n\n    function waitAlmaWidgetDiv(selector) {\n        return new Promise((resolve) => {\n            const observer = new MutationObserver(() => {\n                if ($(selector).length > 0) {\n                    resolve($(selector));\n                    observer.disconnect();\n                }\n            });\n\n            observer.observe(document.body, {childList: true, subtree: true});\n        });\n    }\n\n    function addAlmaWidget() {\n        waitAlmaWidgetDiv(almaWidgetDivId).then(() => {\n            const data = window.wc.wcSettings.getSetting(`alma-widget-block_data`, null);\n            let widget = Alma.Widgets.initialize(\n                data.merchant_id,\n                Alma.ApiMode[data.environment],\n            );\n\n            widget.add(Alma.Widgets.PaymentPlans, {\n                container: almaWidgetDivId,\n                purchaseAmount: data.amount,\n                locale: data.locale,\n                hideIfNotEligible: false,\n                plans: data.plans.map(\n                    function (plan) {\n                        return {\n                            installmentsCount: plan.installments_count,\n                            minAmount: plan.min_amount,\n                            maxAmount: plan.max_amount,\n                            deferredDays: plan.deferred_days,\n                            deferredMonths: plan.deferred_months\n                        }\n                    }\n                ),\n            });\n        });\n    }\n\n    addAlmaWidget();\n})(jQuery);\n\n"],"names":["$","almaWidgetDivId","waitAlmaWidgetDiv","selector","Promise","resolve","observer","MutationObserver","length","disconnect","observe","document","body","childList","subtree","addAlmaWidget","then","data","window","wc","wcSettings","getSetting","widget","Alma","Widgets","initialize","merchant_id","ApiMode","environment","add","PaymentPlans","container","purchaseAmount","amount","locale","hideIfNotEligible","plans","map","plan","installmentsCount","installments_count","minAmount","min_amount","maxAmount","max_amount","deferredDays","deferred_days","deferredMonths","deferred_months","jQuery"],"sourceRoot":""}