{"version":3,"file":"alma-widget-block/alma-widget-block-view.js","mappings":";;;;AAAA,CAAC,UAAUA,CAAC,EAAE;EACV,MAAMC,eAAe,GAAG,cAAc;EAEtC,SAASC,iBAAiBA,CAACC,QAAQ,EAAE;IACjC,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC5B,MAAMC,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,MAAM;QACxC,IAAIP,CAAC,CAACG,QAAQ,CAAC,CAACK,MAAM,GAAG,CAAC,EAAE;UACxBH,OAAO,CAACL,CAAC,CAACG,QAAQ,CAAC,CAAC;UACpBG,QAAQ,CAACG,UAAU,CAAC,CAAC;QACzB;MACJ,CAAC,CAAC;MAEFH,QAAQ,CAACI,OAAO,CAACC,QAAQ,CAACC,IAAI,EAAE;QAACC,SAAS,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAI,CAAC,CAAC;IACrE,CAAC,CAAC;EACN;EAEAZ,iBAAiB,CAACD,eAAe,CAAC,CAACc,IAAI,CAAC,MAAM;IAC1C,MAAMC,IAAI,GAAGC,MAAM,CAACC,EAAE,CAACC,UAAU,CAACC,UAAU,CAAC,wBAAwB,EAAE,IAAI,CAAC;IAC5E,IAAIC,MAAM,GAAGC,IAAI,CAACC,OAAO,CAACC,UAAU,CAChCR,IAAI,CAACS,WAAW,EAChBH,IAAI,CAACI,OAAO,CAACV,IAAI,CAACW,WAAW,CACjC,CAAC;IAEDN,MAAM,CAACO,GAAG,CAACN,IAAI,CAACC,OAAO,CAACM,YAAY,EAAE;MAClCC,SAAS,EAAE7B,eAAe;MAC1B8B,cAAc,EAAE,KAAK;MACrBC,MAAM,EAAE,IAAI;MACZC,iBAAiB,EAAE,KAAK;MACxBC,KAAK,EAAE,CACH;QACIC,iBAAiB,EAAE,CAAC;QACpBC,YAAY,EAAE,EAAE;QAChBC,SAAS,EAAE,IAAI;QACfC,SAAS,EAAE;MACf,CAAC,EACD;QACIH,iBAAiB,EAAE,CAAC;QACpBE,SAAS,EAAE,IAAI;QACfC,SAAS,EAAE;MACf,CAAC,EACD;QACIH,iBAAiB,EAAE,CAAC;QACpBE,SAAS,EAAE,IAAI;QACfC,SAAS,EAAE;MACf,CAAC;IAET,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,EAAEC,MAAM,CAAC,C","sources":["webpack://alma-woocommerce-gateway/./src/alma-widget-block/alma-widget-block-view.js"],"sourcesContent":["(function ($) {\n    const almaWidgetDivId = '#alma-widget';\n\n    function waitAlmaWidgetDiv(selector) {\n        return new Promise((resolve) => {\n            const observer = new MutationObserver(() => {\n                if ($(selector).length > 0) {\n                    resolve($(selector));\n                    observer.disconnect();\n                }\n            });\n\n            observer.observe(document.body, {childList: true, subtree: true});\n        });\n    }\n\n    waitAlmaWidgetDiv(almaWidgetDivId).then(() => {\n        const data = window.wc.wcSettings.getSetting(`alma-widget-block_data`, null);\n        let widget = Alma.Widgets.initialize(\n            data.merchant_id,\n            Alma.ApiMode[data.environment],\n        );\n\n        widget.add(Alma.Widgets.PaymentPlans, {\n            container: almaWidgetDivId,\n            purchaseAmount: 45000,\n            locale: 'fr',\n            hideIfNotEligible: false,\n            plans: [\n                {\n                    installmentsCount: 1,\n                    deferredDays: 30,\n                    minAmount: 5000,\n                    maxAmount: 50000,\n                },\n                {\n                    installmentsCount: 3,\n                    minAmount: 5000,\n                    maxAmount: 50000,\n                },\n                {\n                    installmentsCount: 4,\n                    minAmount: 5000,\n                    maxAmount: 50000,\n                },\n            ],\n        });\n    });\n})(jQuery);\n\n"],"names":["$","almaWidgetDivId","waitAlmaWidgetDiv","selector","Promise","resolve","observer","MutationObserver","length","disconnect","observe","document","body","childList","subtree","then","data","window","wc","wcSettings","getSetting","widget","Alma","Widgets","initialize","merchant_id","ApiMode","environment","add","PaymentPlans","container","purchaseAmount","locale","hideIfNotEligible","plans","installmentsCount","deferredDays","minAmount","maxAmount","jQuery"],"sourceRoot":""}